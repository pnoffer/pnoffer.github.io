/*! Copyright (C) Simplotel - All Rights Reserved 
* Unauthorized copying of this file, via any medium is strictly prohibited
* Proprietary and confidential
*/
function validateform_simplebooking(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var n=e.val(),o=a.val();$(t).find("#check_in").val(n),$(t).find("#check_out").val(o),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy");var d="A",r=$(t).attr("action"),m=$(t).find(".be-lang").val(),c=$(t).find('input[name*="_ga"]').val(),l=$(t).find("#default_child_age").val(),p=$(t).find("#goto_availability").val(),f=$(t).find("#currency_code").val();for(m||(m="en"),f||(f="INR"),l||(l="5"),p||(p="true"),i=1;i<parseInt($(t).find("#adults_id").val());i++)d+=",A";for(i=1;i<=parseInt($(t).find("#children_id").val());i++)d+=","+l;return $(t).find("#guests").val(d),"true"===p&&(f+="#/q"),r+="?hid="+$(t).find("#property_id").val()+"&lang="+m+"&cur="+f+"&guests="+d+"&in="+n+"&out="+o+"&coupon="+$(t).find("#promo_code").val(),c&&(r+="&_ga="+c),"_parent"===$(t).attr("target")?window.open(r,"_self"):window.open(r),!1}function validateform_axisrooms(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_hotelcommerce(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#checkin").val(i),$(t).find("#checkout").val(n),e.datepicker("option","dateFormat","dd-M-yy"),a.datepicker("option","dateFormat","dd-M-yy"),!0}function validateform_ibc(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_busyrooms(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val(),o=$(t).find("#adults_id").val(),d=$(t).find("#children_id").val(),r="http://api.direct-reservation.net/?websiteID="+$(t).find("#websiteID").val()+'&query={"LanguageCode":"EN","CurrencyCode":"INR","PassengerGroups":[{"adults":'+o+',"childrenAges":['+d+']}],"Accommodation":{"EstablishmentIDs":[]},"DateFrom":"'+i+'T00:00:00.000Z","DateTo":"'+n+'T00:00:00.000Z"}&modules=["Accommodation"]';return $(t).attr("action",r),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_eglobe(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","dd-M-yy"),a.datepicker("option","dateFormat","dd-M-yy");var i=e.val(),n=(a.val(),e.datepicker("getDate")),o=(a.datepicker("getDate")-n)/1e3/60/60/24;return $(t).find("#check_in").val(i),$(t).find("#number_of_nights").val(o),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_webcrs(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val(),o=e.datepicker("getDate");a.datepicker("getDate");return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_verticalbooking(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val(),o=e.datepicker("getDate"),d=(a.datepicker("getDate")-o)/1e3/60/60/24;$(t).find("#check_in").val(i),$(t).find("#check_out").val(n);var r=$.datepicker.formatDate("d",o),m=$.datepicker.formatDate("m",o),c=$.datepicker.formatDate("yy",o);return $(t).find("#gg").val(r),$(t).find("#mm").val(m),$(t).find("#aa").val(c),$(t).find("#number_of_nights").val(d),$(t).find("#number_of_nights").val(d),!0}function validateform_packago(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_profitrooms(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_resavenue(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","ddmmyy"),a.datepicker("option","dateFormat","ddmmyy");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_reznext(t){return!0}function validateform_reztrip(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_staah(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","dd M yy"),a.datepicker("option","dateFormat","dd M yy");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_synxis(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","mm-dd-yy"),a.datepicker("option","dateFormat","mm-dd-yy");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),"mobile"==$("#device").val()&&$(t).attr("action","https://mobile.synxis.com"),!0}function validateform_synxisnew(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),"mobile"==$("#device").val()&&$(t).attr("action","https://mobile.synxis.com"),!0}function validateform_globekey(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input"),i=e.datepicker("getDate"),n=(a.datepicker("getDate")-i)/1e3/60/60/24,o=$.datepicker.formatDate("d",i),d=$.datepicker.formatDate("m",i),r=$.datepicker.formatDate("yy",i);return"mobile"===$("#device").val()?($(t).find("#fd").remove(),$(t).find("#fm").remove(),$(t).find("#fy").remove()):($(t).find("#fd").val(o),$(t).find("#fm").val(d),$(t).find("#fy").val(r)),$(t).find("#number_of_nights").val(n),!0}function validateform_ihotelier(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","mm/dd/yy"),a.datepicker("option","dateFormat","mm/dd/yy");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_fastbooking(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","mm/dd/yy"),a.datepicker("option","dateFormat","mm/dd/yy");e.val(),a.val();var i=e.datepicker("getDate"),n=a.datepicker("getDate"),o=$.datepicker.formatDate("d",i),d=$.datepicker.formatDate("m",i),r=$.datepicker.formatDate("yy",i);$(t).find("#fromday").val(o),$(t).find("#frommonth").val(d),$(t).find("#fromyear").val(r);var m=$.datepicker.formatDate("d",n),c=$.datepicker.formatDate("m",n),l=$.datepicker.formatDate("yy",n);return $(t).find("#today").val(m),$(t).find("#tomonth").val(c),$(t).find("#toyear").val(l),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_fabhres(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","mm/dd/yy"),a.datepicker("option","dateFormat","mm/dd/yy");var i=e.val(),n=a.val();$(t).find("#check_in").val(i),$(t).find("#check_out").val(n);var o=$(t).find("#ibe").val();return"00"!=o.slice(0,2)&&$(t).find("#ibe").val("00"+o),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_hotelscloud(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","dd-mm-yy"),a.datepicker("option","dateFormat","dd-mm-yy");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_ezee(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","dd-mm-yy"),a.datepicker("option","dateFormat","dd-mm-yy");var i=e.val(),n=a.val();$(t).find("#check_in").val(i),$(t).find("#check_out").val(n);var o=e.datepicker("getDate"),d=(a.datepicker("getDate")-o)/1e3/60/60/24;return $(t).find("#number_of_nights").val(d),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_choicehotels(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_bookingdotcom(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","d yy-mm"),a.datepicker("option","dateFormat","d yy-mm");var i=e.val().split(" "),n=a.val().split(" ");return $(t).find("#checkin_monthday").val(i[0]),$(t).find("#checkin_year_month").val(i[1]),$(t).find("#checkout_monthday").val(n[0]),$(t).find("#checkout_year_month").val(n[1]),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_confirmedrooms(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input"),i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),!0}function validateform_hotelogix(t){return!0}function validateform_djubo(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_sterling(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","dd/M/yy"),a.datepicker("option","dateFormat","dd/M/yy");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_resavenuewhitelabelled(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","ddmmyy"),a.datepicker("option","dateFormat","ddmmyy");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_resavenuenew(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","ddmmyy"),a.datepicker("option","dateFormat","ddmmyy");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_axisroomsnew(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_thebookingbutton(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_thelittlehotelier(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),"mobile"==$("#device").val()&&($(t).find("#check_in").remove(),$(t).find("#check_out").remove()),!0}function validateform_simplotel(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),""===$(t).find("#chain_id").val()&&$(t).find("#chain_id").remove(),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_reznext2(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yymmdd"),a.datepicker("option","dateFormat","yymmdd");var i=e.val(),n=a.val();return $(t).find("#checkin").val(i),$(t).find("#checkout").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_bestwestern(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","yy-mm-dd"),a.datepicker("option","dateFormat","yy-mm-dd");var i=e.val(),n=a.val();return $(t).find("#check_in").val(i),$(t).find("#check_out").val(n),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_travelclick(t){var e=$(t).find(".arrival-date-input"),a=$(t).find(".departure-date-input");e.datepicker("option","dateFormat","mm/dd/yy"),a.datepicker("option","dateFormat","mm/dd/yy");var i=e.val(),n=(a.val(),e.datepicker("getDate")),o=(a.datepicker("getDate")-n)/1e3/60/60/24;return $(t).find("#check_in").val(i),$(t).find("#number_of_nights").val(o),e.datepicker("option","dateFormat","dd/mm/yy"),a.datepicker("option","dateFormat","dd/mm/yy"),!0}function validateform_enquiry(t){var e=$("#assetRelPath").val(),a=$(t).attr("action"),i=/^((http|https|ftp):\/\/)/,n=($(t).attr("target"),"");return"function"==typeof ga&&ga(function(t){if(t)n=t.get("linkerParam");else{var e=ga.getAll();e.length&&(n=e[0].get("linkerParam"))}}),i.test(a)||(a=e+a),n&&(-1===a.indexOf("?")?a+="?"+n:a+="&"+n),window.open(a,t.target),!1}function init_booking_engine(t){var e=$("#hotel_id").val(),a=$(t).attr("data-hotel_id");if(e===a&&$(t).css("display","block"),"enquiry"!=$(t).attr("data-engine")){var i=$(t).find(".common"),n=1;n=parseInt(i.attr("data-lengthOfStay"),10);var o=i.attr("data-checkInDate"),d=new Date;d="Tomorrow"===o?new Date(d.getTime()+864e5):new Date;var r=!1,m=$(t).find(".arrival-date-input"),c=$(t).find(".departure-date-input"),l=i.attr("data-timeZone"),p=i.attr("data-timeOffset"),f=!!document.documentMode,v=!f&&!!window.StyleMedia;if(f||v)var u=new Date(1e3*(timestamp+parseInt(p)));else"object"==typeof Intl&&"function"==typeof Intl.NumberFormat&&(u=(u=d.toLocaleDateString("en-GB",{timeZone:l})).replace(/[^A-Za-z 0-9 \.,\?""!@#\$%\^&\*\(\)-_=\+;:<>\/\\\|\}\{\[\]`~]*/g,""));m.prop("readonly",!0).datepicker({minDate:u,dateFormat:"dd/mm/yy",onClose:function(t){var e=m.datepicker("getDate","+1d");e.setDate(e.getDate()+n),c.datepicker("setDate",e),r&&(c.datepicker("show"),$("#ui-datepicker-div").css("z-index","1000"),r=!1)},onSelect:function(){r=!0},beforeShow:function(t,e){e.dpDiv.css({marginLeft:-(t.offsetWidth+16)+"px"})}}),m.datepicker("setDate",u);var s=m.datepicker("getDate","+1d");s.setDate(s.getDate()+n),c.prop("readonly",!0).datepicker({minDate:s,dateFormat:"dd/mm/yy",beforeShow:function(t,e){e.dpDiv.css({marginLeft:-(t.offsetWidth-58)+"px"})}}),c.datepicker("setDate",s)}var k=$(t).find("#cancel_or_modify"),g=$(t);temp=$(t).find("#start").attr("data-meta"),"results"==temp&&g.find("#start").val("availresults"),temp=$(t).find("#cancel_or_modify").attr("data-meta"),"true"==temp&&k.removeClass("hidden"),k.on("click",function(t){temp=g.find("#start").val(),g.find("#start").val("searchres"),g.submit(),g.find("#start").val(temp),t.preventDefault()}),temp=$(t).find("select#adults_id").attr("data-meta"),g.find("select#adults_id").val(temp).change(),temp=$(t).find("select#children_id").attr("data-meta"),g.find("select#children_id").val(temp).change(),temp=$(t).find("select#number_of_rooms").attr("data-meta"),g.find("select#number_of_rooms").val(temp).change();var h=$(".navbar-button").find(".btn-full-width").val();$(".navbar-button").find(".btn-full-width").val(h),"mobile"==$("#device").val()&&g.removeAttr("target"),temp=$(t).find("#amend_or_cancel").attr("data-meta");var y=$("#amend_or_cancel"),_=$("#registered_users");"true"==temp&&(y.removeClass("hidden"),_.removeClass("hidden")),temp=$(t).attr("target"),"_blank"==temp&&(y.attr("target","_blank"),_.attr("target","_blank")),temp=$(t).find("#promo_code").attr("data-meta"),"true"==temp&&$(t).find("#promo_code").closest(".hidden").removeClass("hidden");var b=$(".other-link-block");if(b.length&&k.length){var F=$(t).find(".cancel-link").detach().attr("data-hotel_id",a);b.append(F)}}function update_booking_engine_hotels(){var t=$("#booking-engine-groups").find("option:selected").attr("data-group_id");$("#booking-engine-hotels").empty(),$("#booking-engine-hotels-clone option").each(function(){t===$(this).attr("data-group_id")&&$("#booking-engine-hotels").append($(this).clone())})}function update_booking_engine_forms(){var t=$("#booking-engine-hotels").find("option:selected").attr("data-hotel_id");$(".form.booking-form").each(function(){var e=$(this).attr("data-hotel_id");if(t===e){$(this).css("display","block");var a=$(this).find(".form-group");a.length>2?$(".vc_open-form-block").show():0===a.length&&$(".vc_open-form-block").hide()}else $(this).css("display","none")})}function init_booking_engine_groups(){var t=$("#hotel_id").val(),e=0;$("#booking-engine-hotels-clone option").each(function(){if(t===$(this).attr("data-hotel_id"))return e=$(this).attr("data-group_id"),!1}),$("#booking-engine-groups option").each(function(){e===$(this).attr("data-group_id")&&$(this).prop("selected",!0)}),update_booking_engine_hotels()}function init_booking_engine_hotels(){var t=$("#hotel_id").val();$("#booking-engine-hotels option").each(function(){t===$(this).attr("data-hotel_id")&&$(this).prop("selected",!0)}),update_booking_engine_forms()}function update_mobile_navbar_buttons(){var t={};$("#booking-engine-hotels-clone option").each(function(){var e=$(this).attr("data-hotel_id"),a=$(this).text();t[e]=a}),$(".modal-body .form.booking-form").each(function(){$(this).css("display","block");var e=$(this).attr("data-hotel_id");e in t&&$(this).find('input[type="submit"]').val(t[e])})}function create_booking_dropdown(){var t={};$("#booking-engine-hotels-clone option").each(function(){var e=$(this).attr("data-hotel_id"),a=$(this).text();t[e]=a}),$(".wtbookbtn").each(function(){var e=$("#booking-dropdown-skel").find(".dropdown").clone();$(this).hide(),$(this).after(e);$(this).find(".form.booking-form").each(function(){var a=$(this).attr("data-hotel_id");if(a in t){var i=$(this).find('input[type="submit"]');e.find(".dropdown-name").html(i.val()),i.val(t[a]),e.find(".dropdown-menu").append(this),$(this).css("display","block")}})})}function create_booking_modal_toggle(){$(".wtbookbtn").each(function(){var t=$("#booking-modal-toggle-skel").find(".booking-modal-toggle").clone();$(this).find(".form.booking-form:first").before(t);$(this).find(".form.booking-form").each(function(){var e=$(this).find('input[type="submit"]');t.html(e.val()),$(this).remove()})})}function toggle_other_links_display(){var t=$("#booking-engine-hotels").find("option:selected").attr("data-hotel_id");$(".cancel-link").css("display","none"),$(".cancel-link").each(function(){var e=$(this).attr("data-hotel_id");t===e?$(this).css("display","block"):$(this).css("display","none")})}function remove_navbar_modal(){$(".mobile-navbar-button").children("a").removeAttr("data-toggle data-target")}function submit_mobile_navbar_form(t,e){var a=$("#hotel_id").val();!t||e?$(".mobile-navbar-button").find(".booking-form").submit():$(".form.booking-form").each(function(){var t=$(this).attr("data-hotel_id");a===t&&$(this).submit()})}function hide_form_fields(t){var e=$(t).find("#adults_id"),a=$(t).find("#children_id"),i=$(t).find("#promo_code"),n=$(t).find("#number_of_rooms");e.parentsUntil(".form-group").closest(".form-group").remove(),a.parentsUntil(".form-group").closest(".form-group").remove(),i.parentsUntil(".form-group").closest(".form-group").remove(),n.parentsUntil(".form-group").closest(".form-group").remove()}function getFormattedDates(t){var e=new Date(t);return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getDate()}function readCookie(t){for(var e=t+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return null}function checkDate(t){var e=new Date,a=new Date(t);return e.setHours(0,0,0,0),a.setHours(0,0,0,0),e>a}function createChildrenAgeParams(t){var e="";return $.each(t,function(t,a){$.each(a,function(a,i){var n=t.split("_")[1],o=a.split("_")[1];e+="cage_"+n+"_"+o+"="+i.age+"&"})}),e}function setCookieMsg(t,e){var a,i=!(!!(!$("#parent_hotel_id").length||!$("#hotel_id").length)||$("#parent_hotel_id").val()!==$("#hotel_id").val()),n=$("#bookingUrl").val(),o=xDomainCookie(n+"/static","my.namespace",!0),d=null,r=!1;if(readCookie("cookiePopupTimer")){var m=new Date(readCookie("cookiePopupTimer"));d=(new Date-m)/6e4}(!d||d>15)&&o.get("beData",function(o){if(o&&"delete"!==o){$("#continueBooking").removeClass("cb-hide");var d=JSON.parse(o),m=n+"/?",c="";if(i?d.searchData&&parseInt(d.searchData.chainId)===parseInt(e):d.searchData&&parseInt(d.searchData.propertyId)===parseInt(t)){if(d.searchData.checkIn&&(r=checkDate(d.searchData.checkIn)),$.each(d.searchData,function(t,e){if("roomId"!==t&&"ratePlanId"!==t&&"packageId"!==t&&"source"!==t&&"currentDate"!==t){if("checkIn"!==t||r||(c+=getFormattedDates(e)+" - "),"checkOut"!==t||r||(c+=getFormattedDates(e)+", "),"rooms"===t){for(var a=0,i=0;i<e.length;i++)m+="adults_"+(i+1)+"="+parseInt(e[i].adults)+"&",m+="children_"+(i+1)+"="+parseInt(e[i].children)+"&",a+=parseInt(e[i].adults)+parseInt(e[i].children);c+=a+(a>1?" guests":" guest"),e=e.length}e&&"None"!==e&&"name"!==t&&("checkIn"===t||"checkOut"===t?r||(m+=t+"="+e+"&"):m+="children_info"===t?createChildrenAgeParams(e):t+"="+e+"&")}}),d.booking&&$.each(d.booking,function(t,e){"name"===t&&("None"!==e?((a=e.split(" ").find(function(t){if(t.length>2&&"."!==t.charAt(t.length-1))return t}))?$("#continueBooking .cb-name").html(a+","):$("#continueBooking .cb-name").addClass("cb-hide"),m+=t+"="+e+"&"):$("#continueBooking .cb-name").addClass("cb-hide")),"email"===t&&"None"!==e&&(m+=t+"="+e+"&")}),d.independent_addons&&d.independent_addons.length>0&&d.independent_addons.forEach(function(t){t.adult_units>0&&(m+="vaa_"+t.id+"="+t.adult_units+"&"),t.child_units>0&&(m+="vac_"+t.id+"="+t.child_units+"&")}),d.selectedRooms&&d.selectedRooms.length>0&&(m+="roomId="+d.selectedRooms[0].roomId+"&",m+="ratePlanId="+d.selectedRooms[0].ratePlanId+"&",m+="packageId="+d.selectedRooms[0].packageId+"&"),r||d.isBookingConfirmed?m+="cookieReload=false&source=cdc_1":m+="cookieReload=true&source=cdc_1","function"==typeof ga&&ga(function(t){if(t)a=t.get("linkerParam");else{var e=ga.getAll();if(e.length)var a=e[0].get("linkerParam")}a&&(m+="&"+a)}),r||d.isBookingConfirmed){initSiteMessaging(t,device,i);var l="Welcome back, ";a&&(l+=a+"!<span style='display: block;font-size: 13px'> It is great to see you again</span>"),$("#continueBooking .cb-name, #continueBooking .cb-book-details, #continueBooking .cb-hotel-name").hide(),$("#continueBooking .cb-heading").html(l)}else{var p=parseInt(d.searchData.propertyId),f="";$("#booking-engine-hotels-clone option")&&$("#booking-engine-hotels-clone option").filter(function(){$(this).attr("data-hotel_id")==p&&(f=this.innerHTML)}),$("#continueBooking .cb-hotel-name").html(f),$("#continueBooking .cb-book-details").html(c),initSiteMessaging(p,device,i)}$("#continueBooking .cb-wrap").click(function(){window.open(m)}),$("#continueBooking .close").click(function(){document.cookie="cookiePopupTimer="+new Date,$("#continueBooking").addClass("cb-hide")})}else $("#continueBooking").addClass("cb-hide")}else $("#continueBooking").addClass("cb-hide")},1e3)}function numberWithCommas(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function setMinPriceMessage(t,e,a){0===$(a).closest(".wtbookbtn").length&&("hidden"===$(a).find(".min-room-price").attr("type")&&($(a).find("input:submit").attr("data-tooptip","tooltip"),$(a).find("input:submit").attr("data-placement","bottom"),$(a).find("input:submit").attr("title",t)),$(a).find(".min-room-price").after(e))}function setChainMobileMinPriceMessage(t,e){var a=$(".mobile-navbar-button .navBtnBorder"),i=e.find(".min-price-div").clone().toggleClass("min-price-div nav-min-price-div");$(a).append(i)}function initSiteMessaging(t,e,a,i){var n=$("#bookingUrl").val();t&&$.ajax({url:n+"/content/"+t+"/data",method:"GET",success:function(t){if(t.data.minimum_baserate&&t.data.message_html)if(i){$(i).find(".min-price-div").remove();var e="<div class='min-price-div'> <span class='general-msg'>From </span><span class='price-msg'>"+numberWithCommas(Math.ceil(t.data.minimum_baserate))+"</span> <span  class='general-msg'>"+t.data.currency_code+"/Night</span> </div> ";$(i).find(".min-price-wrapper").after(e)}else $("#continueBooking .cb-room-price").html(t.data.message_html)}})}function formInitSiteMessaging(t,e,a,i,n){var o=$("#hotel_id").val(),d=$("#bookingUrl").val();if(i)var r=$('form[data-hotel_id="'+t+'"]').first(),m=$(r).attr("data-engine");else var r=$("#booking-form"),m=$(r).attr("data-engine");"simplotel"===m&&t?$.ajax({url:d+"/content/"+t+"/data",method:"GET",success:function(n){if(n.data.minimum_baserate){var d="From "+numberWithCommas(Math.ceil(n.data.minimum_baserate))+" "+n.data.currency_code+"/Night";$(".min-room-price").attr("type","hidden"),$(r).find(".min-price-wrapper").show();var m="<div class='min-price-div'> <span class='general-msg'>From </span><span class='price-msg'>"+numberWithCommas(Math.ceil(n.data.minimum_baserate))+"</span> <span  class='general-msg'>"+n.data.currency_code+"/Night</span> </div> ";$(".min-price-div").remove(),setMinPriceMessage(d,m,r),i&&!a&&"mobile"===e&&o.toString()===t.toString()&&setChainMobileMinPriceMessage(t,r)}else $(r).find(".min-price-wrapper").hide()}}):$(r).find(".min-price-wrapper").hide()}function init(){var t=$("#device").val(),e=!(!$("#parent_hotel_id").length||!$("#hotel_id").length),a=!(!e||$("#parent_hotel_id").val()!==$("#hotel_id").val()),i=!(!$("#template_type").length||"common"!==$("#template_type").val()),n=!0,o=!!$(".abs_parent_btn_wrapper").length,d="",r="",m=$("#chain_id").val(),c=$("#websiteMessagingStatus").val();if("True"===c)if(a){var l=$("#booking-engine-hotels").find("option:selected");l.length>0&&(formInitSiteMessaging(r=l.attr("data-hotel_id"),t,a,e),setCookieMsg(r,m))}else formInitSiteMessaging(r=$("#hotel_id").val(),t,a,e),setCookieMsg(r,m);$(".form.booking-form").each(function(){init_booking_engine(this),""===d&&(d=$(this).attr("data-engine")),d.length&&d!==$(this).attr("data-engine")&&(n=!1)}),function(){var t=document.getElementById("booking-engine-groups"),e=document.getElementById("booking-engine-hotels");null!==t&&null!==e&&(t.setAttribute("readonly","true"),e.setAttribute("readonly","true"),window.addEventListener("pageshow",function(){t.removeAttribute("readonly"),e.removeAttribute("readonly")}))}(),e&&"desktop"===t&&(update_booking_engine_hotels(),update_booking_engine_forms(),init_booking_engine_groups(),init_booking_engine_hotels(),toggle_other_links_display()),e&&"mobile"===t&&i?(update_booking_engine_hotels(),update_booking_engine_forms(),init_booking_engine_groups(),init_booking_engine_hotels()):e&&"mobile"===t&&update_mobile_navbar_buttons(),a&&"desktop"===t&&i?n&&"simplotel"===d||o||create_booking_modal_toggle():a&&"desktop"===t&&create_booking_dropdown(),a&&"mobile"===t&&(n&&"simplotel"===d||o||create_booking_modal_toggle()),"mobile"===t&&e&&n&&"simplotel"===d&&remove_navbar_modal(),$("#booking-engine-groups").on("change",function(){update_booking_engine_hotels(),update_booking_engine_forms(),toggle_other_links_display(),"True"===c&&formInitSiteMessaging($("#booking-engine-hotels").find("option:selected").attr("data-hotel_id"),t,a,e)}),$("#booking-engine-hotels").on("change",function(){update_booking_engine_forms(),toggle_other_links_display(),"True"===c&&formInitSiteMessaging($(this).find("option:selected").attr("data-hotel_id"),t,a,e)}),"desktop"===t&&e&&i&&($(".booking-modal-toggle").on("click",function(){$(".js-nav-booking-form .resv_button").length||$("#hotelBookModal .booking-form-wrapper").append($("#bookingForm")),$(".for-homepage #resv-form .booking-form-wrapper").find("#bookingForm").length||$("#resv-form .booking-form-wrapper").append($("#bookingForm"))}),$("#hotelBookModal").on("hidden.bs.modal",function(){$("#collapseOne").find(".panel-body").append($("#bookingForm"))})),"mobile"===t&&(!e&&!i||e&&i&&n&&"simplotel"===d)&&$(".mobile-navbar-button").click(function(){submit_mobile_navbar_form(e,a)}),$(".form.booking-form").each(function(){e&&"desktop"===t&&!i&&hide_form_fields(this)}),$(".booking-form").submit(function(t){function e(t){i||(i=!0,l(a)&&a.submit(t))}t.preventDefault(),t.stopPropagation();var a=this,i=!1,n=$(a).attr("data-engine"),o=window.location.pathname;if("verticalbooking"===n){var d={en:"eng",fr:"fra",it:"ita",de:"deu",fr:"fra",ru:"rus",nl:"dut",pt:"por",fi:"fin",el:"ell",zh:"chi",ko:"kor",ja:"jpn",th:"tha",vi:"vie",bg:"bul",no:"nor",ro:"ron",hu:"hun",sk:"slo",cs:"cze",da:"dan",ca:"cat"},r=$(a).find(".be-lang");d[c=$(r).val()]?$(r).val(d[c]):$(r).val("eng")}if("thelittlehotelier"===n){var m={zh:"zh-CN"},r=$(a).find(".be-lang"),c=$(r).val();m[c]&&$(r).val(m[c])}var l=window["validateform_"+String(n)];"function"==typeof l&&("function"==typeof ga?(ga(function(t){if(t)i=t.get("linkerParam");else{var e=ga.getAll();if(e.length)var i=e[0].get("linkerParam")}i&&($(a).find('input[name*="_ga"]').remove(),$(a).append('<input type="hidden" name="_ga" value="'+i.split("_ga=")[1]+'">'))}),ga("send",{hitType:"event",eventCategory:"bookNow",eventAction:"formSubmit",eventLabel:o,hitCallback:e(t)})):e(t))}),"mobile"===t&&$(".nav-wrap a.tel").click(function(t){function e(){i||(i=!0,window.location.href=n)}t.preventDefault(),t.stopPropagation();var a=this,i=!1,n=$(a).attr("href"),o=window.location.pathname;setTimeout(e,1e3),"function"==typeof ga&&(ga(function(t){if(t)a=t.get("linkerParam");else{var e=ga.getAll();if(e.length)var a=e[0].get("linkerParam")}a&&($(form).find('input[name*="_ga"]').remove(),$(form).append('<input type="hidden" name="_ga" value="'+a.split("_ga=")[1]+'">'))}),ga("send",{hitType:"event",eventCategory:"mobileCall",eventAction:"linkClick",eventLabel:o,hitCallback:e}))}),$(".wtformjson .btn-forms").click(function(){var t=window.location.pathname;"function"==typeof ga&&ga("send",{hitType:"event",eventCategory:"contactForm",eventAction:"formSubmitClick",eventLabel:t})})}var timestamp=(new Date).getTime()/1e3+60*(new Date).getTimezoneOffset();init(),$(window).on("load",function(){window.location.pathname.slice(-1);var t=$("#bookingUrl").val();$.getScript(t+"/static/widgets/exitIntent.js",function(){})});
//# sourceMappingURL=bookingengine.min.js.map